<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Courier New'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1) Вычитываем дамп spi флеши 25px80 любыми способами. Например можно подключиться прищепкой к микросхеме не выпаивая ее, или, у кого нет прищепки, выпаиваем spi flash 25px80 и читаем ее на любом программаторе который может ее прочитать.<br />Полученный дамп размером 1 мБ патчим или с помощью любого Hex редактора или программой mag255_bios_patch и заливаем обратно в флешу.<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">0004FFC0: 4D 41<br />0004FFC1: 41 75<br />0004FFC2: 47 72<br />0004FFC3: 32 61<br />0004FFC4: 35 48<br />0004FFC5: 35 44<br />0004FFC6: 00 32</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />2) На компьютере поднимаем TFTP сервер (например ip 192.168.1.100/24) и подключаем LAN кабель от компа к приставке, подключаемся консолью к приставке например с помощью putty аналогично как с <a href="http://4pda.ru/pages/go/?u=http%3A%2F%2Fcomteh.net%2Fviewtopic.php%3Ff%3D16%26t%3D197&amp;e=64362713&amp;f=http%3A%2F%2F4pda.ru%2Fforum%2Findex.php%3Fshowtopic%3D454327%26st%3D16980%23entry64362713"><span style=" text-decoration: underline; color:#0000ff;">mag250</span></a> и даем команды:<br />снимаем блокировку изменения операторского ключа:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">setenv loppubKEY no</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />сохраняем настройки:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">saveenv</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />стираем всю нанду (кто не хочет стирать всю, могут стереть избирательно):<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">nand erase</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />настраиваем LAN на приставке:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">setenv ipaddr 192.168.1.111<br />setenv serverip 192.168.1.100</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />загружаем в RAM &quot;kernel&quot;:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">tftp 0x80000000 kernel.bin</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />пишем из RAM в NAND:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">nand write 0x80000000 7c00000 400000</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />загружаем в RAM &quot;FS&quot;:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">tftp 0x80000000 fs.bin</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />пишем из RAM в NAND:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">nand write 80000000 8000000 5000000</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />перезагружаем приставку:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">reset</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />xxx) Заходим в биос приставки и делаем почти все тоже самое как и в случае с <a href="http://4pda.ru/pages/go/?u=http%3A%2F%2Fcomteh.net%2Fviewtopic.php%3Ff%3D16%26t%3D197&amp;e=64362713&amp;f=http%3A%2F%2F4pda.ru%2Fforum%2Findex.php%3Fshowtopic%3D454327%26st%3D16980%23entry64362713"><span style=" text-decoration: underline; color:#0000ff;">mag250</span></a>:<br />&quot;Reset default settings&quot;<br />&quot;Save &amp; reboot&quot;<br />снова заходим в биос сбрасываем операторский ключ и указываем откуда приставке грузиться:<br />&quot;Reset Op Key&quot;<br />&quot;Load from NAND2&quot; (грузимся с NAND2 потому что мы заливали root и fs в область памяти которая принадлежит NAND2)<br />&quot;Save &amp; reboot&quot;<br />После всех этих действий приставка должна начать загружаться с прошивкой Aura HD plus. Пока грузится - даем приставке интернет например с роутера на котором есть DHCP server.<br />В меню Aura HD plus нужно зайти в &quot;мастер настроек&quot; и проследовать до конца настроек и подтвердить желание приставки перезагрузиться.<br />После перезагрузки приставка пойдет к себе на сервер и начнет обновлять прошивку на самую последнюю и снова перезагрузится.<br />После перезагрузки с новой прошивкой я снова рекомендую зайти в мастер настроек и убедиться что приставка увидела сеть (виджет &quot;погода&quot; определит ваше месторасположение) и проследовать до конца настроек и подтвердить желание приставки перезагрузиться.<br />После всех этих манипуляций получаем полностью готовое к эксплуатации изделие.</p></body></html>